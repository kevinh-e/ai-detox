"use strict";(self.webpackChunkai_detox=self.webpackChunkai_detox||[]).push([[731],{607:(e,t,n)=>{n.d(t,{d:()=>c,w:()=>o});const o=["*://chatgpt.com/*","*://gemini.google.com/*","*://claude.ai/*","*://www.perplexity.ai/*","*://poe.com/*","*://copilot.microsoft.com/*","*://v0.dev/*"],c={ENABLED:"globalEnabled",BLOCKED_SITES:"blockedSites",FILTER_MODE:"proceedMode",PROCEED_TEXT:"proceedText",CONFIRM_TEXT:"confirmText",CONFIRM_MODE:"confirmMode"}},731:(e,t,n)=>{n.r(t),n.d(t,{cleanup:()=>C,init:()=>k});var o=n(815),c=n(607);const{ENABLED:s,BLOCKED_SITES:d,FILTER_MODE:l,PROCEED_TEXT:r,CONFIRM_TEXT:i,CONFIRM_MODE:a}=c.d;let E,g,m,u,v,h,I,T=null;function k(){console.log("General initialising"),E=document.getElementById("globalEnabled"),g=document.getElementById("filterMode"),m=document.getElementById("confirmMode"),u=document.getElementById("proceedText"),v=document.getElementById("confirmText"),h=document.getElementById("save-button"),I=document.getElementById("status"),b(),h.addEventListener("click",p),E.addEventListener("change",y),g.addEventListener("change",y)}function C(){console.log("General cleaning up"),h?.removeEventListener("click",p),E?.removeEventListener("change",y),g?.removeEventListener("change",y)}const b=()=>{o.storage.sync.get(Object.values(c.d)).then(e=>{T=e,console.log("General loading settings: ",e),E.checked=e[s]??!0,g.checked=e[l]??!0,m.checked=e[a]??!0,u.value=e[r]??"I'm sure I want to use AI.",v.value=e[i]??"Confirm",y()}).catch(e=>{console.error("Error loading settings:",e),I.textContent="Error loading settings.",I.style.color="red"})},p=()=>{const e=E.checked,t=g.checked,n=u.value.trim(),c=v.value.trim(),h=m.checked,k={[s]:e,[d]:T[d],[l]:t,[r]:n,[i]:c,[a]:h};console.log("Saving settings:",k),o.storage.sync.set(k).then(()=>{I.textContent="Settings saved!",I.style.color="var(--emerald)",setTimeout(()=>{status.textContent=""},3e3)}).catch(e=>{console.error("Error saving settings:",e),I.textContent="Error saving settings.",I.style.color="var(--rose)"})},y=()=>{const e=E.checked,t=e&&g.checked;g.disabled=!e,u.disabled=!e,m.disabled=!t,v.disabled=!t}}}]);