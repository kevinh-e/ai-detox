const routes={general:"general",filters:"filters",appearance:"appearance",about:"about"},app=document.getElementById("app"),links=document.querySelectorAll(".nav-element");let currentModule=null;export function init(){window.addEventListener("hashchange",()=>loadRoute()),window.addEventListener("load",()=>loadRoute())}async function loadRoute(){const e=window.location.hash.replace("#","")||"/general",t=routes[e]||"general";currentModule?.cleanup?.(),console.log(`fetching ./pages/${t}.html`);const n=await fetch(`./pages/${t}.html`).then(e=>e.text());app.innerHTML=n,console.log(`fetching ./scripts/${t}.js`);const a=await import(`./scripts/${t}.js`);currentModule=a,currentModule?.init?.(),links.forEach(e=>{e.classList.toggle("active-nav",e.getAttribute("href")===`#${t}`)})}init();